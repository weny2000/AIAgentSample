# AIチャットボット実装チェックリスト

## 準備・設定

- [x] shadcn/ui の初期設定
- [x] 必要なパッケージのインストール
- [x] グローバルCSS (Tailwind) の設定

## 型定義・データ構造

- [x] lib/types.ts の実装
- [x] sample_data/chat_history.json の作成
- [x] sample_data/user_profiles.json の作成

## APIエンドポイント

- [x] app/api/db/chat/route.ts (チャット履歴一覧取得)
- [x] app/api/db/chat/[id]/route.ts (チャット詳細取得)
- [x] app/api/openai/route.ts (OpenAI APIモック)

## コンポーネント

- [x] components/chat/ChatMessage.tsx
- [x] components/chat/ChatFormUserProfile.tsx
- [x] components/chat/ChatForm.tsx
- [x] components/chat/ChatHistorySideBar.tsx

## ページ

- [x] app/page.tsx (メインページ/ランディングページ)
- [x] app/chat/page.tsx (チャット開始ページ)
- [x] app/chat/[id]/page.tsx (チャット画面)

## 最終確認

- [ ] 全ページの動作確認
- [ ] レスポンシブデザイン確認
- [ ] エラーハンドリング確認
- [ ] ロード状態の確認

---

## 実装進捗

### 🎉 基本実装完了！

すべてのコンポーネント、ページ、APIエンドポイントの実装が完了しました。
次は動作確認とテストを行います。

---

# 🔧 チャットボット修正実装チェックリスト（更新版）

## 🎨 UI修正（最優先）

### 1. アシスタントメッセージ表示の修正

- [x] react-markdownの設定を見直し、文字が正しく表示されるように修正
- [x] マークダウンのスタイリングを調整（文字色、背景色など）
- [x] コピーボタンの動作確認（データ取得は問題ないことを確認済み）

### 2. メッセージ表示エリアのスクロール改善

- [x] メッセージ表示エリアのみスクロール可能にする
- [x] scroll-areaコンポーネントの適用確認
- [x] プロンプト入力部分は固定表示

### 3. 画面レイアウトの最適化

- [x] 画面高さをscreen高さに設定
- [x] 要素が画面からはみ出さないように調整
- [x] ヘッダーを固定表示（position: fixed）
- [x] サイドバーの右隣に適切に配置
- [ ] 横幅は最小限にしてメッセージエリアを広く活用

### 4. ChatFormの最適化

- [x] 送信ボタンをメインプロンプト内側（右下）に移動
- [x] ChatFormの高さを抑制してメッセージ表示エリアを広く確保
- [x] メインプロンプトが長い場合の内部スクロール実装
- [x] ChatFormUserProfile.tsxはそのまま維持

### 5. ヘッダーの調整

- [x] 「AI Assistant アクティブなチャット」ヘッダーの横幅を制限
- [x] メッセージ表示エリアを縦に広く使うための調整

### 6. レスポンシブ対応とスタイリング

- [ ] モバイル表示の最適化
- [ ] デスクトップ表示の最適化
- [ ] 各要素の適切なz-index設定
- [ ] ドロップダウンメニューのスタイリング
- [ ] 各ボタンのクリックハンドラー（機能は未実装）

### 全体の調整

- [ ] 各コンポーネント間の整合性確認
- [ ] レスポンシブ対応の確認
- [ ] 全体のスタイリング統一性確認

## ✅ テスト・確認項目（最終）

- [ ] アシスタントメッセージの文字が正しく表示されること
- [ ] メッセージエリアのスクロールが適切に動作すること
- [ ] 送信ボタンの新しい配置が正しく動作すること
- [ ] ChatFormの高さ制限が効果的であること
- [ ] 全体のレイアウトが仕様通りに実装されていること
- [ ] モバイル対応が適切に行われていること

---

## 🚀 実装順序

1. **最優先**: アシスタントメッセージ表示修正
2. **高優先**: ChatFormの送信ボタン配置変更と高さ制限
3. **中優先**: メッセージ表示エリアのスクロール改善
4. **低優先**: ヘッダーの横幅調整
5. **最終**: 全体テストと微調整
